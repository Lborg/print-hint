<!DOCTYPE html>
<html>
	<head>
		<link href='search.css' rel='stylesheet'>
		<script src='http://code.jquery.com/jquery-1.11.0.min.js'></script>
	</head>
	<body>
		
		<form action='javascript:searchComp()' method='POST'>
		  <input type='text' id='searchTerm' placeholder='Search'>
		  <input type='submit' value='Submit'>
		</form>
		
	  <div id="results">
		  <ul id='resultsList'>
			  <!--
			  <li><h4>Name</h4><a href='#' id='compWebsite'>Website</a> <p id='compOverview'>Overview<p></li>
			  <li><h4>Name</h4><a href='#' id='compWebsite'>Website</a> <p id='compOverview'>Overview<p></li>
		  	-->
		  </ul>
	  </div>
	  
	  <script>
	  	var resp;

	    function searchComp(){
				
				term = $('#searchTerm').val();
				$.ajax({
				url:'http://printhint.com/cloud/api/search/searchComp.php',
				data: {'searchTerm': term},
				complete:searchResults
				});
			}

			function searchResults(transport){
				
				resp = transport.responseText;
				resp = $.parseJSON(resp);
				if (resp['status'] == 'fail'){
					$('#resultsList').append('<h4>Nothing Found</h4>');
				}
				if(resp['status']=='success'){
				  for (k in resp['data']['data']){
				  
				  $('#resultsList').append("<li><h4>"+resp['data']['data'][k]['name']+"</h4><a href='"+resp['data']['data'][k]['homepage']+"' id='compWebsite'>Website</a> <p id='compOverview'>"+resp['data']['data'][k]['overview']+"</p></li>");
				  };
				};
			}
				    
	  </script>
	  
	</body>
</html>
